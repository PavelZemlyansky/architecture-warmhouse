# Project_template

Это шаблон для решения проектной работы. Структура этого файла повторяет структуру заданий. Заполняйте его по мере работы над решением.

# Задание 1. Анализ и планирование

<aside>

Чтобы составить документ с описанием текущей архитектуры приложения, можно часть информации взять из описания компании и условия задания. Это нормально.

</aside

### 1. Описание функциональности монолитного приложения

**Управление отоплением:**

- Пользователи могут удалённо включать/выключать отопление в своих домах.

**Мониторинг температуры:**

- Система получает данные о температуре с датчиков, установленных в домах.
- Пользователи могут просматривать текущую температуру в своих домах через веб-интерфейс.

### 2. Анализ архитектуры монолитного приложения

Перечислите здесь основные особенности текущего приложения: какой язык программирования используется, какая база данных, как организовано взаимодействие между компонентами и так далее.

    - Язык программирования: Go
    - База данных: PostgreSQL
    - Архитектура: Монолитная, все компоненты системы (обработка запросов, бизнес-логика, работа с данными) находятся в рамках одного приложения.
    - Взаимодействие: Синхронное, запросы обрабатываются последовательно.
    - Масштабируемость: Ограничена, так как монолит сложно масштабировать по частям.
    - Развертывание: Требует остановки всего приложения.

### 3. Определение доменов и границы контекстов

Опишите здесь домены, которые вы выделили.

	- Управление устройствами
	- Сбор телеметрии
	- Безопасность
	- Фронтальная логика


### 4. Визуализация контекста системы — диаграмма С4

[Диаграмма контекста](./warmhouse-context.c4)


# Задание 2. Проектирование микросервисной архитектуры

В этом задании вам нужно предоставить только диаграммы в модели C4. Мы не просим вас отдельно описывать получившиеся микросервисы и то, как вы определили взаимодействия между компонентами To-Be системы. Если вы правильно подготовите диаграммы C4, они и так это покажут.

**Диаграмма контейнеров (Containers)**

[Диаграмма контейнеров](./warmhouse-container.c4)

**Диаграмма компонентов (Components)**

[Диаграмма компонентов](./warmhouse-component.c4)

**Диаграмма кода (Code)**

[Диаграмма кода](./devices-code.c4)

# Задание 3. Разработка ER-диаграммы

[ER-диаграмма](./ER-diagram.uml)

# Задание 4. Создание и документирование API

### 1. Тип API

- Для интеграции между микросервисами и опроса устройств будет использован синхронный REST-API. Такой способ быстрый, легковесный, простой в разработке.
- Для передачи телеметрии с устройств на МС Telemetry будет использован асинхронный запрос по http с устройства на микросервис. Такой подход позволяет равномерно распределять по времени нагрузку на сервер, в отличие от подхода, когда сервер по своему графику одномоментно опрашивает все устройства. Использование здесь каких-либо брокеров сообщений видится излишним, т.к. нет потребности тратить дополнительные ресурсы на повышение надежности доставки.

### 2. Документация API

- [Swagger Telemetry](./telemetry.yaml)
- [Swagger Security](./security.yaml)


# Задание 5. Работа с docker и docker-compose

- [Приложение temperature](./apps/app.py)
- [Docker compose yaml](./apps/docker-compose.yml)
- [Dockerfile](./apps/temperature-service/Dockerfile)
- [Зависимости](./apps/temperature-service/requirements.txt)


